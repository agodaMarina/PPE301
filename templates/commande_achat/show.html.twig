{% extends "main/template.html.twig" %}
{% block title %}
Details Commande
{% endblock title %}

{% block contenu %}

<div class="row">
    <div class="col-lg-12">
        <div class="card card-block card-stretch card-height print rounded">
            <div class="card-header d-flex justify-content-between bg-primary header-invoice">
                <div class="iq-header-title">
                    <h4 class="card-title mb-0">Commande#{{commande.NumeroCommande}}</h4>
                </div>
                <div class="invoice-btn">
                    <a href="#" class="btn btn-primary-dark mr-2"><i class="ri-printer-fill"></i>Imprimer</a>
                    

                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-12">
                        <h5 class="mb-0"></h5>
                        <p></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="table-responsive-sm">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">Date</th>
                                        <th scope="col">Statut</th>
                                        <th scope="col">Numéro de commande</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{ commande.date ? commande.date|date('Y-m-d') : '' }}
                                        </td>
                                        <td><span class="badge badge-danger">Unpaid</span></td>
                                        <td>{{commande.NumeroCommande}}</td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <h5 class="mb-3 text-primary">Détails de la Commande</h5>
                        <div class="table-responsive-sm">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="text-center" scope="col">#</th>
                                        <th scope="col">Article</th>
                                        <th class="text-center" scope="col">Quantité</th>
                                        <th class="text-center" scope="col">Prix Unitaire</th>
                                        <th class="text-center" scope="col">Total(XOF)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                   
                                    {% set compteur = 1%}

                                    {% for row in ligne %}
                                    {% set htt = row.quantite * row.prixUnitaire %}


                                    <tr>
                                        <th class="text-center" scope="row">{{compteur}}</th>
                                        <td>
                                            <h6 class="mb-0">{{row.article}}</h6>
                                            
                                        </td>
                                        <td class="text-center">{{row.quantite}}</td>
                                        <td class="text-center">{{row.prixUnitaire}}</td>
                                        <td class="text-center"><b>{{row.quantite * row.prixUnitaire}}</b></td>
                                        
                                    </tr>
                                    {% set compteur= compteur+1 %}
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <b class="text-danger">Notes:</b>
                        <p class="mb-0">{{commande.ConditionDeReglement}}.</p>
                    </div>
                </div>
                <div class="row mt-4 mb-3">
                    <div class="offset-lg-8 col-lg-4">
                        <div class="or-detail rounded">
                            <div class="p-3">
                                <h5 class="mb-3">Details</h5>

                                <div class="mb-2">
                                    <h6>Total HT</h6>
                                    <p>
                                        {{ht}}
                                    </p>
                                </div>
                                <div>
                                    <h6>Tva</h6>
                                    <p>{{commande.tva}}%</p>
                                </div>
                            </div>
                            <div class="ttl-amt py-2 px-3 d-flex justify-content-between align-items-center">
                                <h6>Total TTC</h6>
                                <h3 class="text-primary font-weight-700"> {{ttc}}</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="{{ path('liste_commande') }}" class="btn btn-success mt-2">Retour à Liste</a>
                <a href="#" class="btn btn-primary mt-2">Envoyer Au Fournisseur</a>
            </div>
        </div>
    </div>

</div>


{% endblock contenu %}